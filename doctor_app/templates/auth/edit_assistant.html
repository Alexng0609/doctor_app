{% extends 'base.html' %}

{% block content %}
<div class="container">
    <h2>Edit Assistant: {{ assistant.username }}</h2>
    
    <div style="background: #e7f3ff; border-left: 4px solid #2196f3; padding: 15px; margin-bottom: 20px;">
        <strong>Assistant Info:</strong><br>
        â€¢ Role: Assistant<br>
        â€¢ Working under: {{ current_user.full_name }}<br>
        â€¢ Location: {{ assistant.location or 'None' }} (inherited from you)<br>
        â€¢ Patients assigned: {{ assistant.patients|length }}
    </div>
    
    <form method="POST" class="form-card">
        {{ form.hidden_tag() }}
        
        <div class="form-group">
            {{ form.username.label }}
            {{ form.username(class="form-control") }}
            {% if form.username.errors %}
                <div class="error">{{ form.username.errors[0] }}</div>
            {% endif %}
        </div>
        
        <div class="form-group">
            {{ form.full_name.label }}
            {{ form.full_name(class="form-control") }}
            {% if form.full_name.errors %}
                <div class="error">{{ form.full_name.errors[0] }}</div>
            {% endif %}
        </div>
        
        <div class="form-group">
            {{ form.email.label }}
            {{ form.email(class="form-control") }}
            {% if form.email.errors %}
                <div class="error">{{ form.email.errors[0] }}</div>
            {% endif %}
        </div>
        
        <div class="form-group">
            <label>
                {{ form.is_active() }}
                {{ form.is_active.label.text }}
            </label>
        </div>
        
        <div class="form-actions">
            <button type="submit" class="btn btn-primary">ðŸ’¾ Save Changes</button>
            <a href="{{ url_for('auth.my_assistants') }}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
    
    <div style="margin-top: 30px; padding: 15px; background: #fff3cd; border-left: 4px solid #ffc107;">
        <strong>Note:</strong> You cannot change the assistant's role or location here. To change the password, the assistant must use "Change Password" after logging in.
    </div>
</div>
{% endblock %}